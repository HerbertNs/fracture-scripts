[gd_scene load_steps=28 format=4 uid="uid://dmw6xvsekc7e7"]

[ext_resource type="Script" uid="uid://cd26lwcdiykuq" path="res://scripts/window_control.gd" id="1_44xq4"]
[ext_resource type="TileSet" uid="uid://bqiw2pad5gerq" path="res://scenes/world_components/tileset.tres" id="3_0nksx"]
[ext_resource type="Script" uid="uid://cygjtsjgdmttg" path="res://scripts/window_node.gd" id="3_cwef7"]
[ext_resource type="PackedScene" uid="uid://b51uu7cuf8lhl" path="res://scenes/characters/player.tscn" id="4_cwef7"]
[ext_resource type="TileSet" uid="uid://vje6hfib8s13" path="res://scenes/world_components/background_tiles.tres" id="4_ear8s"]
[ext_resource type="PackedScene" uid="uid://b32hg5isegcnf" path="res://scenes/world_components/light_source.tscn" id="5_387rd"]
[ext_resource type="Script" uid="uid://coyc2u3blrvla" path="res://scripts/light_flicker.gd" id="6_k0qpa"]
[ext_resource type="Texture2D" uid="uid://0p4j5wsmriib" path="res://tiles and atlas/light_source.jpg" id="7_t6vsi"]
[ext_resource type="Shader" uid="uid://bgsbuldh6vfvo" path="res://scenes/shaders/water.gdshader" id="9_fij0m"]
[ext_resource type="PackedScene" uid="uid://ddhmealgvtra0" path="res://scenes/texturemaps/star_sky.tscn" id="10_5lubn"]
[ext_resource type="PackedScene" uid="uid://butcn2xurcgwa" path="res://scenes/world_components/door_area_2d.tscn" id="11_x1nye"]
[ext_resource type="Script" uid="uid://rn6s17a687k8" path="res://scenes/world_components/door_area_2d.gd" id="12_0ball"]
[ext_resource type="PackedScene" uid="uid://ootcq0ao131v" path="res://scenes/world_components/world_border.tscn" id="13_x511s"]
[ext_resource type="PackedScene" uid="uid://cc8movr0l77nb" path="res://scenes/world_components/CRT_EFFECT.tscn" id="15_387rd"]
[ext_resource type="Shader" uid="uid://htvcerysxqs2" path="res://scenes/shaders/crt_basic.gdshader" id="16_k0qpa"]
[ext_resource type="Script" uid="uid://cgfpkp26jy1wh" path="res://scripts/stray_windows.gd" id="17_k0qpa"]

[sub_resource type="GDScript" id="GDScript_387rd"]
script/source = "extends Node
class_name MotionController

enum MotionType {
	NONE,
	OSCILLATE_HORIZONTAL,
	OSCILLATE_VERTICAL,
	OSCILLATE_DIAGONAL_45,
	CIRCULAR,
	CUSTOM
}

enum MotionState {
	STABLE,
	UNSTABLE,
	COLLAPSING,
	RESETTING
}

# Motion parameters
@export var motion_type: MotionType = MotionType.NONE
@export var anchor_normalized: Vector2 = Vector2(0.5, 0.5)
@export var amplitude_normalized: Vector2 = Vector2(0.1, 0.1)
@export var speed: float = 1.0  # Radians per second
@export var active: bool = true

# Internal state
var current_state: MotionState = MotionState.STABLE
var phase: float = 0.0
var time_accumulator: float = 0.0
var is_paused: bool = false
var last_offset: Vector2 = Vector2.ZERO

# Monitor info cache
var monitor_size: Vector2 = Vector2(1920, 1080)  # Default fallback

func _ready() -> void:
	# Get current monitor size
	var window = get_window()
	if window:
		var screen_index = window.current_screen
		monitor_size = DisplayServer.screen_get_size(screen_index)
	
	# Connect to parent window if available
	var parent_window = get_parent()
	if parent_window is Window:
		parent_window.size_changed.connect(_on_window_size_changed)

func _on_window_size_changed() -> void:
	# Update monitor size when window moves to different screen
	var window = get_window()
	if window:
		var screen_index = window.current_screen
		monitor_size = DisplayServer.screen_get_size(screen_index)

func set_state(new_state: MotionState) -> void:
	if current_state == MotionState.COLLAPSING and new_state != MotionState.COLLAPSING:
		# Reset phase when coming out of collapse
		reset_phase()
	
	current_state = new_state
	
	# Pause motion during collapse
	if new_state == MotionState.COLLAPSING:
		is_paused = true
	elif new_state == MotionState.STABLE or new_state == MotionState.UNSTABLE:
		is_paused = false

func reset_phase() -> void:
	phase = 0.0
	time_accumulator = 0.0

func reset() -> void:
	reset_phase()
	last_offset = Vector2.ZERO
	is_paused = false
	current_state = MotionState.STABLE

func pause() -> void:
	is_paused = true

func resume() -> void:
	if current_state != MotionState.COLLAPSING:
		is_paused = false

func update_motion(delta: float) -> Vector2:
	if not active or is_paused or motion_type == MotionType.NONE:
		last_offset = Vector2.ZERO
		return last_offset
	
	# Accumulate time for deterministic motion
	time_accumulator += delta * speed
	
	# Calculate offset based on motion type
	var offset = Vector2.ZERO
	
	match motion_type:
		MotionType.OSCILLATE_HORIZONTAL:
			offset.x = sin(time_accumulator) * amplitude_normalized.x
			offset.y = 0.0
		
		MotionType.OSCILLATE_VERTICAL:
			offset.x = 0.0
			offset.y = sin(time_accumulator) * amplitude_normalized.y
		
		MotionType.OSCILLATE_DIAGONAL_45:
			var sine_val = sin(time_accumulator)
			offset.x = sine_val * amplitude_normalized.x
			offset.y = sine_val * amplitude_normalized.y
		
		MotionType.CIRCULAR:
			offset.x = cos(time_accumulator) * amplitude_normalized.x
			offset.y = sin(time_accumulator) * amplitude_normalized.y
		
		MotionType.CUSTOM:
			# Placeholder for custom curve-based motion
			offset = Vector2.ZERO
	
	last_offset = offset
	return offset

func get_final_position() -> Vector2i:
	# Convert normalized offset to pixel coordinates
	var normalized_pos = anchor_normalized + last_offset
	var pixel_pos = Vector2i(normalized_pos * monitor_size)
	
	# Snap to integer pixels to avoid sub-pixel movement
	return pixel_pos

func get_current_offset() -> Vector2:
	return last_offset

func set_motion_type(new_type: MotionType) -> void:
	motion_type = new_type
	reset_phase()

func set_anchor(new_anchor: Vector2) -> void:
	anchor_normalized = new_anchor

func set_amplitude(new_amplitude: Vector2) -> void:
	amplitude_normalized = new_amplitude

func set_speed(new_speed: float) -> void:
	speed = new_speed
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nnhpi"]
size = Vector2(20, 48)

[sub_resource type="Animation" id="Animation_034tp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_dln8s"]
resource_name = "fade in"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.58475196),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4js7i"]
_data = {
&"RESET": SubResource("Animation_034tp"),
&"fade in": SubResource("Animation_dln8s")
}

[sub_resource type="FastNoiseLite" id="FastNoiseLite_34e62"]
frequency = 0.03

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ac4b6"]
noise = SubResource("FastNoiseLite_34e62")
seamless = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jr415"]
shader = ExtResource("9_fij0m")
shader_parameter/water_color = Color(0.1917144, 0.22716326, 0.29801184, 0.45490196)
shader_parameter/wave_noise = SubResource("NoiseTexture2D_ac4b6")
shader_parameter/ripple_intensity = 0.0390000018525
shader_parameter/ripple_frequency = 4.510000214225
shader_parameter/ripple_speed = 0.4150000197125

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_iknvv"]
load_path = "res://.godot/imported/Unsplash.jpg-93426e8f86e484f19d54400e5a7dbc0e.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t6vsi"]
shader = ExtResource("16_k0qpa")
shader_parameter/screen_resolution = Vector2(50, 50)
shader_parameter/scanline_intensity = 0.0
shader_parameter/color_bleed_weight = 0.3310000157225

[sub_resource type="ShaderMaterial" id="ShaderMaterial_k0qpa"]
shader = ExtResource("16_k0qpa")
shader_parameter/screen_resolution = Vector2(1, 1)
shader_parameter/scanline_intensity = 0.0
shader_parameter/color_bleed_weight = 0.400000019

[node name="main" type="Node"]
script = ExtResource("1_44xq4")
osc_amplitude = 130
osc_speed = 0.376
osc_axis = Vector2i(1, 0)
metadata/_edit_vertical_guides_ = [1923.0, -84.0]
metadata/_edit_horizontal_guides_ = [-545.0, 1004.0]

[node name="Window2" type="Window" parent="."]
snap_2d_transforms_to_pixel = true
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(223, 300)
size = Vector2i(325, 270)
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="Window2"]
position = Vector2(255, 275)
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="Window" type="Window" parent="."]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(75, 115)
size = Vector2i(445, 455)
always_on_top = true
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="Window"]
position = Vector2(267, 272)
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="Window4" type="Window" parent="."]
snap_2d_transforms_to_pixel = true
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(113, 120)
size = Vector2i(435, 450)
always_on_top = true
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="Window4"]
position = Vector2(267, 272)
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="Window3" type="Window" parent="."]
snap_2d_transforms_to_pixel = true
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(223, 300)
size = Vector2i(325, 270)
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="Window3"]
position = Vector2(150, 125)
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720

[node name="MotionController" type="Node" parent="Window3"]
script = SubResource("GDScript_387rd")

[node name="world1_stage1" type="Node2D" parent="."]
position = Vector2(115, 551)
scale = Vector2(3.3, 3.3)
metadata/_edit_vertical_guides_ = [-26.0]

[node name="light_sources" type="Node" parent="world1_stage1"]

[node name="light_source" parent="world1_stage1/light_sources" instance=ExtResource("5_387rd")]
position = Vector2(571, 564)
scale = Vector2(0.60699, 0.59583336)
color = Color(0.67984563, 0.38330066, 0.34156033, 1)
energy = 3.22
script = ExtResource("6_k0qpa")
flicker_min_energy = 0.845
flicker_max_energy = 5.995
flicker_speed = 4.845
color_variation = 0.0

[node name="light_source2" parent="world1_stage1/light_sources" instance=ExtResource("5_387rd")]
position = Vector2(1558, 509.00003)
scale = Vector2(0.66137666, 0.7305556)
color = Color(0.9959069, 0.83448696, 0.569962, 1)
energy = 3.94
script = ExtResource("6_k0qpa")
flicker_min_energy = 0.845
flicker_max_energy = 5.995
flicker_speed = 4.845
color_variation = 0.0

[node name="floors" type="TileMapLayer" parent="world1_stage1"]
tile_map_data = PackedByteArray("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AAAoAAIAAwAKAAgAAAD+//7/AwAbABwAAAD+////AwAbAB0AAAD///7/AwAcABwAAAD/////AwAcAB0AAAD8//7/AwAdABgAAAD9//7/AwAeABgAAAA4AP7/AwARAA8AAAA9AAMAAwAGACEAAAA9AAQAAwAGACIAAAA+AAMAAwAHACEAAAA+AAQAAwAHACIAAAA9AAUAAwAfACAAAAA9AAYAAwAfACEAAAA+AAUAAwAgACAAAAA+AAYAAwAgACEAAAA7AAYAAwAbABwAAAA7AAcAAwAbAB0AAAA8AAYAAwAcABwAAAA8AAcAAwAcAB0AAAA7AAUAAwACABAAACA8AAUAAwADABAAACBjAA8AAwAZAAYAAAA/AAAAAwAOAAUAAABAAAAAAwAPAAUAAABAAAEAAwAMAAMAABA/AAEAAwANAAMAABBAAAIAAwAMAAQAABA/AAIAAwANAAQAABA/AAQAAwANAAMAADBAAAQAAwAMAAMAADA/AAMAAwANAAQAADBAAAMAAwAMAAQAADARAAAAAwAcAAoAAAAPAPz/AwAaAAYAAAAPAP3/AwAaAAcAAAAQAPz/AwAbAAYAAAARAPz/AwAcAAYAAAARAP3/AwAcAAcAAAD6//7/AwAbABoAAAD6////AwAbABsAAAD7//7/AwAcABoAAAD7////AwAcABsAAAD4//7/AwAbABoAAAD4////AwAbABsAAAD5//7/AwAcABoAAAD5////AwAcABsAAAD2//7/AwAbABoAAAD2////AwAbABsAAAD3//7/AwAcABoAAAD3////AwAcABsAAAD0//7/AwAbABoAAAD0////AwAbABsAAAD1//7/AwAcABoAAAD1////AwAcABsAAAD0//z/AwAbABwAAAD0//3/AwAbAB0AAAD1//z/AwAcABwAAAD1//3/AwAcAB0AAAD0//r/AwAbABwAAAD0//v/AwAbAB0AAAD1//r/AwAcABwAAAD1//v/AwAcAB0AAAD0//j/AwAbABwAAAD0//n/AwAbAB0AAAD1//j/AwAcABwAAAD1//n/AwAcAB0AAAD0//b/AwAbABwAAAD0//f/AwAbAB0AAAD1//b/AwAcABwAAAD1//f/AwAcAB0AAABBAAAAAwAbACAAAABBAAEAAwAbACEAAABCAAAAAwAcACAAAABCAAEAAwAcACEAAABDAAAAAwAbACAAAABDAAEAAwAbACEAAABEAAAAAwAcACAAAABEAAEAAwAcACEAAABFAAAAAwAbACAAAABFAAEAAwAbACEAAABGAAAAAwAcACAAAABGAAEAAwAcACEAAABFAP7/AwAbACAAAABFAP//AwAbACEAAABGAP7/AwAcACAAAABGAP//AwAcACEAAABFAPz/AwAbACAAAABFAP3/AwAbACEAAABGAPz/AwAcACAAAABGAP3/AwAcACEAAABFAPr/AwAbACAAAABFAPv/AwAbACEAAABGAPr/AwAcACAAAABGAPv/AwAcACEAAABFAPj/AwAbACAAAABFAPn/AwAbACEAAABGAPj/AwAcACAAAABGAPn/AwAcACEAAAA9AP//AwAEABAAACA=")
tile_set = ExtResource("3_0nksx")

[node name="back_tiles" type="TileMapLayer" parent="world1_stage1"]
modulate = Color(0.30407944, 0.3228059, 0.32134265, 1)
z_index = -1
tile_map_data = PackedByteArray("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")
tile_set = ExtResource("4_ear8s")

[node name="background" parent="world1_stage1" instance=ExtResource("10_5lubn")]
z_index = -10
position = Vector2(-31, -187)
metadata/_edit_lock_ = true

[node name="ColorRect" parent="world1_stage1/background" index="0"]
light_mask = 2
offset_left = -5.0
offset_top = 42.0
offset_right = 570.0
offset_bottom = 274.0
metadata/_edit_lock_ = true

[node name="DoorArea2D" parent="world1_stage1" instance=ExtResource("11_x1nye")]
z_index = 100
position = Vector2(-48, -1)
ConnectedRoom = "res://scenes/levels/intro_2.tscn"
PlayerPos = Vector2(854, -24)

[node name="CollisionShape2D" type="CollisionShape2D" parent="world1_stage1/DoorArea2D"]
position = Vector2(-2, -41)
shape = SubResource("RectangleShape2D_nnhpi")

[node name="DoorArea2D2" type="Area2D" parent="world1_stage1"]
z_index = 200
position = Vector2(550, 14)
script = ExtResource("12_0ball")
ConnectedRoom = "res://scenes/levels/world_1_stage_2.tscn"
PlayerPos = Vector2(12, -27)

[node name="ColorRect" type="ColorRect" parent="world1_stage1/DoorArea2D2"]
modulate = Color(0, 0, 0, 0)
z_index = 200
z_as_relative = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -653.0
offset_top = -197.0
offset_right = 1.0
offset_bottom = 127.0
grow_horizontal = 2
grow_vertical = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="world1_stage1/DoorArea2D2/ColorRect"]
libraries = {
&"": SubResource("AnimationLibrary_4js7i")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="world1_stage1/DoorArea2D2"]
position = Vector2(-8, -38)
shape = SubResource("RectangleShape2D_nnhpi")

[node name="WORLD_BORDER" parent="world1_stage1" instance=ExtResource("13_x511s")]
z_index = 300

[node name="ColorRect" parent="world1_stage1/WORLD_BORDER/Area2D" index="1"]
visibility_layer = 4
offset_left = -623.48486
offset_top = -787.21216
offset_right = 1729.5151
offset_bottom = 814.78784

[node name="Parallax2D" type="Parallax2D" parent="world1_stage1"]
light_mask = 2
z_index = -3
scroll_scale = Vector2(1.03, 1)

[node name="clouds" type="TileMapLayer" parent="world1_stage1/Parallax2D"]
self_modulate = Color(0.8509804, 0.8235294, 0.5176471, 1)
light_mask = 2
tile_map_data = PackedByteArray("AAAHAAMABAACACoAAAAHAAQABAACACsAAAAIAAMABAADACoAAAAIAAQABAADACsAAAAJAAIABAAEACkAAAAJAAMABAAEACoAAAAJAAQABAAEACsAAAAKAAEABAAFACgAAAAKAAIABAAFACkAAAAKAAMABAAFACoAAAAKAAQABAAFACsAAAALAAEABAAGACgAAAALAAIABAAGACkAAAALAAMABAAGACoAAAALAAQABAAGACsAAAAMAAAABAAHACcAAAAMAAEABAAHACgAAAAMAAIABAAHACkAAAAMAAMABAAHACoAAAAMAAQABAAHACsAAAANAP7/BAAIACUAAAANAP//BAAIACYAAAANAAAABAAIACcAAAANAAEABAAIACgAAAANAAIABAAIACkAAAANAAMABAAIACoAAAANAAQABAAIACsAAAAOAP7/BAAJACUAAAAOAP//BAAJACYAAAAOAAAABAAJACcAAAAOAAEABAAJACgAAAAOAAIABAAJACkAAAAOAAMABAAJACoAAAAOAAQABAAJACsAAAAPAPz/BAAKACMAAAAPAP3/BAAKACQAAAAPAP7/BAAKACUAAAAPAP//BAAKACYAAAAPAAAABAAKACcAAAAPAAEABAAKACgAAAAPAAIABAAKACkAAAAPAAMABAAKACoAAAAPAAQABAAKACsAAAAQAPz/BAALACMAAAAQAP3/BAALACQAAAAQAP7/BAALACUAAAAQAP//BAALACYAAAAQAAAABAALACcAAAAQAAEABAALACgAAAAQAAIABAALACkAAAAQAAMABAALACoAAAAQAAQABAALACsAAAARAPv/BAAMACIAAAARAPz/BAAMACMAAAARAP3/BAAMACQAAAARAP7/BAAMACUAAAARAP//BAAMACYAAAARAAAABAAMACcAAAARAAEABAAMACgAAAARAAIABAAMACkAAAARAAMABAAMACoAAAARAAQABAAMACsAAAASAPv/BAANACIAAAASAPz/BAANACMAAAASAP3/BAANACQAAAASAP7/BAANACUAAAASAP//BAANACYAAAASAAAABAANACcAAAASAAEABAANACgAAAASAAIABAANACkAAAASAAMABAANACoAAAASAAQABAANACsAAAATAPv/BAAOACIAAAATAPz/BAAOACMAAAATAP3/BAAOACQAAAATAP7/BAAOACUAAAATAP//BAAOACYAAAATAAAABAAOACcAAAATAAEABAAOACgAAAATAAIABAAOACkAAAATAAMABAAOACoAAAATAAQABAAOACsAAAAUAPv/BAAPACIAAAAUAPz/BAAPACMAAAAUAP3/BAAPACQAAAAUAP7/BAAPACUAAAAUAP//BAAPACYAAAAUAAAABAAPACcAAAAUAAEABAAPACgAAAAUAAIABAAPACkAAAAUAAMABAAPACoAAAAUAAQABAAPACsAAAAVAPv/BAAQACIAAAAVAPz/BAAQACMAAAAVAP3/BAAQACQAAAAVAP7/BAAQACUAAAAVAP//BAAQACYAAAAVAAAABAAQACcAAAAVAAEABAAQACgAAAAVAAIABAAQACkAAAAVAAMABAAQACoAAAAVAAQABAAQACsAAAAWAPz/BAARACMAAAAWAP3/BAARACQAAAAWAP7/BAARACUAAAAWAP//BAARACYAAAAWAAAABAARACcAAAAWAAEABAARACgAAAAWAAIABAAOADAAAAAWAAMABAAOADEAAAAWAAQABAAOADAAAAAXAPz/BAASACMAAAAXAP3/BAASACQAAAAXAP7/BAASACUAAAAXAP//BAASACYAAAAXAAAABAASACcAAAAXAAEABAASACgAAAAXAAIABAAPADAAAAAXAAMABAAPADEAAAAXAAQABAAPADAAAAAYAP3/BAATACQAAAAYAP7/BAATACUAAAAYAP//BAATACYAAAAYAAAABAATACcAAAAYAAEABAATACgAAAAYAAIABAAOADAAAAAYAAMABAAOADEAAAAYAAQABAAOADAAAAAZAP//BAAUACYAAAAZAAAABAAUACcAAAAZAAEABAAUACgAAAAZAAIABAAPADAAAAAZAAMABAAPADEAAAAZAAQABAAPADAAAAAhAP7/BAAMACIAABAgAP7/BAANACIAABAfAP7/BAAOACIAABAeAP7/BAAPACIAABAdAP7/BAAQACIAABAjAP//BAAKACMAABAiAP//BAALACMAABAhAP//BAAMACMAABAgAP//BAANACMAABAfAP//BAAOACMAABAeAP//BAAPACMAABAdAP//BAAQACMAABAcAP//BAARACMAABAbAP//BAASACMAABAjAAAABAAKACQAABAiAAAABAALACQAABAhAAAABAAMACQAABAgAAAABAANACQAABAfAAAABAAOACQAABAeAAAABAAPACQAABAdAAAABAAQACQAABAcAAAABAARACQAABAbAAAABAASACQAABAaAAAABAATACQAABAlAAEABAAIACUAABAkAAEABAAJACUAABAjAAEABAAKACUAABAiAAEABAALACUAABAhAAEABAAMACUAABAgAAEABAANACUAABAfAAEABAAOACUAABAeAAEABAAPACUAABAdAAEABAAQACUAABAcAAEABAARACUAABAbAAEABAASACUAABAaAAEABAATACUAABAlAAIABAAIACYAABAkAAIABAAJACYAABAjAAIABAAKACYAABAiAAIABAALACYAABAhAAIABAAMACYAABAgAAIABAANACYAABAfAAIABAAOACYAABAeAAIABAAPACYAABAdAAIABAAQACYAABAcAAIABAARACYAABAbAAIABAASACYAABAaAAIABAATACYAABAmAAMABAAHACcAABAlAAMABAAIACcAABAkAAMABAAJACcAABAjAAMABAAKACcAABAiAAMABAALACcAABAhAAMABAAMACcAABAgAAMABAANACcAABAfAAMABAAOACcAABAeAAMABAAPACcAABAdAAMABAAQACcAABAcAAMABAARACcAABAbAAMABAASACcAABAaAAMABAAPADAAAAAoAAQABAAFACgAABAnAAQABAAGACgAABAmAAQABAAHACgAABAlAAQABAAIACgAABAkAAQABAAJACgAABAjAAQABAAKACgAABAiAAQABAALACgAABAhAAQABAAMACgAABAgAAQABAANACgAABAfAAQABAAOACgAABAeAAQABAAPACgAABAdAAQABAAQACgAABAcAAQABAARACgAABAbAAQABAASACgAABAaAAQABAAPADEAAAApAAUABAAEACkAABAoAAUABAAFACkAABAnAAUABAAGACkAABAmAAUABAAHACkAABAlAAUABAAIACkAABAkAAUABAAJACkAABAjAAUABAAKACkAABAiAAUABAALACkAABAhAAUABAAMACkAABAgAAUABAANACkAABAfAAUABAAOACkAABAeAAUABAAPACkAABAdAAUABAAQACkAABAcAAUABAARACkAABAbAAUABAASACkAABAaAAUABAATACkAABAZAAUABAAPADEAAAArAAYABAACACoAABAqAAYABAADACoAABApAAYABAAEACoAABAoAAYABAAFACoAABAnAAYABAAGACoAABAmAAYABAAHACoAABAlAAYABAAIACoAABAkAAYABAAJACoAABAjAAYABAAKACoAABAiAAYABAALACoAABAhAAYABAAMACoAABAgAAYABAANACoAABAfAAYABAAOACoAABAeAAYABAAPACoAABAdAAYABAAQACoAABAcAAYABAARACoAABAbAAYABAASACoAABAaAAYABAATACoAABAZAAYABAAPADAAAAArAAcABAACACsAABAqAAcABAADACsAABApAAcABAAEACsAABAoAAcABAAFACsAABAnAAcABAAGACsAABAmAAcABAAHACsAABAlAAcABAAIACsAABAkAAcABAAJACsAABAjAAcABAAKACsAABAiAAcABAALACsAABAhAAcABAAMACsAABAgAAcABAANACsAABAfAAcABAAOACsAABAeAAcABAAPACsAABAdAAcABAAQACsAABAcAAcABAARACsAABAbAAcABAASACsAABAaAAcABAATACsAABAZAAcABAAPADEAAAAxAAIABAABACwAAAAxAAMABAABAC0AAAAxAAQABAABAC4AAAAxAAUABAABAC8AAAAyAAAABAACACoAAAAyAAEABAACACsAAAAyAAIABAACACwAAAAyAAMABAACAC0AAAAyAAQABAACAC4AAAAyAAUABAACAC8AAAAzAAAABAADACoAAAAzAAEABAADACsAAAAzAAIABAADACwAAAAzAAMABAADAC0AAAAzAAQABAADAC4AAAAzAAUABAADAC8AAAA0AP//BAAEACkAAAA0AAAABAAEACoAAAA0AAEABAAEACsAAAA0AAIABAAEACwAAAA0AAMABAAEAC0AAAA0AAQABAAEAC4AAAA0AAUABAAEAC8AAAA1AP7/BAAFACgAAAA1AP//BAAFACkAAAA1AAAABAAFACoAAAA1AAEABAAFACsAAAA1AAIABAAFACwAAAA1AAMABAAFAC0AAAA1AAQABAAFAC4AAAA1AAUABAAFAC8AAAA2AP7/BAAGACgAAAA2AP//BAAGACkAAAA2AAAABAAGACoAAAA2AAEABAAGACsAAAA2AAIABAAGACwAAAA2AAMABAAGAC0AAAA2AAQABAAGAC4AAAA2AAUABAAGAC8AAAA3AP3/BAAHACcAAAA3AP7/BAAHACgAAAA3AP//BAAHACkAAAA3AAAABAAHACoAAAA3AAEABAAHACsAAAA3AAIABAAHACwAAAA3AAMABAAHAC0AAAA3AAQABAAHAC4AAAA3AAUABAAHAC8AAAA4APv/BAAIACUAAAA4APz/BAAIACYAAAA4AP3/BAAIACcAAAA4AP7/BAAIACgAAAA4AP//BAAIACkAAAA4AAAABAAIACoAAAA4AAEABAAIACsAAAA4AAIABAAIACwAAAA4AAMABAAIAC0AAAA4AAQABAAIAC4AAAA4AAUABAAIAC8AAAA5APv/BAAJACUAAAA5APz/BAAJACYAAAA5AP3/BAAJACcAAAA5AP7/BAAJACgAAAA5AP//BAAJACkAAAA5AAAABAAJACoAAAA5AAEABAAJACsAAAA5AAIABAAJACwAAAA5AAMABAAJAC0AAAA5AAQABAAJAC4AAAA5AAUABAAJAC8AAAA6APn/BAAKACMAAAA6APr/BAAKACQAAAA6APv/BAAKACUAAAA6APz/BAAKACYAAAA6AP3/BAAKACcAAAA6AP7/BAAKACgAAAA6AP//BAAKACkAAAA6AAAABAAKACoAAAA6AAEABAAKACsAAAA6AAIABAAKACwAAAA6AAMABAAKAC0AAAA6AAQABAAKAC4AAAA6AAUABAAKAC8AAAA7APn/BAALACMAAAA7APr/BAALACQAAAA7APv/BAALACUAAAA7APz/BAALACYAAAA7AP3/BAALACcAAAA7AP7/BAALACgAAAA7AP//BAALACkAAAA7AAAABAALACoAAAA7AAEABAALACsAAAA7AAIABAALACwAAAA7AAMABAALAC0AAAA7AAQABAALAC4AAAA7AAUABAALAC8AAAA8APj/BAAMACIAAAA8APn/BAAMACMAAAA8APr/BAAMACQAAAA8APv/BAAMACUAAAA8APz/BAAMACYAAAA8AP3/BAAMACcAAAA8AP7/BAAMACgAAAA8AP//BAAMACkAAAA8AAAABAAMACoAAAA8AAEABAAMACsAAAA8AAIABAAMACwAAAA8AAMABAAMAC0AAAA8AAQABAAMAC4AAAA8AAUABAAMAC8AAAA9APj/BAANACIAAAA9APn/BAANACMAAAA9APr/BAANACQAAAA9APv/BAANACUAAAA9APz/BAANACYAAAA9AP3/BAANACcAAAA9AP7/BAANACgAAAA9AP//BAANACkAAAA9AAAABAANACoAAAA9AAEABAANACsAAAA9AAIABAANACwAAAA9AAMABAANAC0AAAA9AAQABAANAC4AAAA9AAUABAANAC8AAAA+APj/BAAOACIAAAA+APn/BAAOACMAAAA+APr/BAAOACQAAAA+APv/BAAOACUAAAA+APz/BAAOACYAAAA+AP3/BAAOACcAAAA+AP7/BAAOACgAAAA+AP//BAAOACkAAAA+AAAABAAOACoAAAA+AAEABAAOACsAAAA+AAIABAAOACwAAAA+AAMABAAOAC0AAAA+AAQABAAOAC4AAAA+AAUABAAOAC8AAAA/APj/BAAPACIAAAA/APn/BAAPACMAAAA/APr/BAAPACQAAAA/APv/BAAPACUAAAA/APz/BAAPACYAAAA/AP3/BAAPACcAAAA/AP7/BAAPACgAAAA/AP//BAAPACkAAAA/AAAABAAPACoAAAA/AAEABAAPACsAAAA/AAIABAAPACwAAAA/AAMABAAPAC0AAAA/AAQABAAPAC4AAAA/AAUABAAPAC8AAABAAPj/BAAQACIAAABAAPn/BAAQACMAAABAAPr/BAAQACQAAABAAPv/BAAQACUAAABAAPz/BAAQACYAAABAAP3/BAAQACcAAABAAP7/BAAQACgAAABAAP//BAAQACkAAABAAAAABAAQACoAAABAAAEABAAQACsAAABAAAIABAAQACwAAABAAAMABAAQAC0AAABAAAQABAAQAC4AAABAAAUABAAQAC8AAABBAPn/BAARACMAAABBAPr/BAARACQAAABBAPv/BAARACUAAABBAPz/BAARACYAAABBAP3/BAARACcAAABBAP7/BAARACgAAABBAP//BAARACkAAABBAAAABAARACoAAABBAAEABAARACsAAABBAAIABAARACwAAABBAAMABAARAC0AAABBAAQABAARAC4AAABBAAUABAARAC8AAABCAPn/BAASACMAAABCAPr/BAASACQAAABCAPv/BAASACUAAABCAPz/BAASACYAAABCAP3/BAASACcAAABCAP7/BAASACgAAABCAP//BAASACkAAABCAAAABAASACoAAABCAAEABAASACsAAABCAAIABAASACwAAABCAAMABAASAC0AAABCAAQABAASAC4AAABCAAUABAASAC8AAABDAPr/BAATACQAAABDAPv/BAATACUAAABDAPz/BAATACYAAABDAP3/BAATACcAAABDAP7/BAATACgAAABDAP//BAATACkAAABDAAAABAATACoAAABDAAEABAATACsAAABDAAIABAATACwAAABDAAMABAATAC0AAABDAAQABAATAC4AAABDAAUABAATAC8AAABEAPz/BAAUACYAAABEAP3/BAAUACcAAABEAP7/BAAUACgAAABEAP//BAAUACkAAABEAAAABAAUACoAAABEAAEABAAUACsAAABEAAIABAAUACwAAABEAAMABAAUAC0AAABEAAQABAAUAC4AAABEAAUABAAUAC8AAAAXAAUABAAPADEAAAAXAAYABAAOADEAAAAYAAUABAAOADEAAAAYAAYABAAOADAAAAAWAAUABAAOADEAAAAYAAcABAAOADEAAAA=")
tile_set = ExtResource("4_ear8s")

[node name="blackclouds" type="TileMapLayer" parent="world1_stage1/Parallax2D"]
modulate = Color(0.15447098, 0.10497125, 0, 1)
light_mask = 2
z_index = -4
position = Vector2(45, -1)
tile_map_data = PackedByteArray("AAAhAAQABAACACoAAAAhAAUABAACACsAAAAiAAQABAADACoAAAAiAAUABAADACsAAAAjAAMABAAEACkAAAAjAAQABAAEACoAAAAjAAUABAAEACsAAAAkAAIABAAFACgAAAAkAAMABAAFACkAAAAkAAQABAAFACoAAAAkAAUABAAFACsAAAAlAAIABAAGACgAAAAlAAMABAAGACkAAAAlAAQABAAGACoAAAAlAAUABAAGACsAAAAmAAEABAAHACcAAAAmAAIABAAHACgAAAAmAAMABAAHACkAAAAmAAQABAAHACoAAAAmAAUABAAHACsAAAAnAP//BAAIACUAAAAnAAAABAAIACYAAAAnAAEABAAIACcAAAAnAAIABAAIACgAAAAnAAMABAAIACkAAAAnAAQABAAIACoAAAAnAAUABAAIACsAAAAoAP//BAAJACUAAAAoAAAABAAJACYAAAAoAAEABAAJACcAAAAoAAIABAAJACgAAAAoAAMABAAJACkAAAAoAAQABAAJACoAAAAoAAUABAAJACsAAAApAP3/BAAKACMAAAApAP7/BAAKACQAAAApAP//BAAKACUAAAApAAAABAAKACYAAAApAAEABAAKACcAAAApAAIABAAKACgAAAApAAMABAAKACkAAAApAAQABAAKACoAAAApAAUABAAKACsAAAAqAP3/BAALACMAAAAqAP7/BAALACQAAAAqAP//BAALACUAAAAqAAAABAALACYAAAAqAAEABAALACcAAAAqAAIABAALACgAAAAqAAMABAALACkAAAAqAAQABAALACoAAAAqAAUABAALACsAAAArAPz/BAAMACIAAAArAP3/BAAMACMAAAArAP7/BAAMACQAAAArAP//BAAMACUAAAArAAAABAAMACYAAAArAAEABAAMACcAAAArAAIABAAMACgAAAArAAMABAAMACkAAAArAAQABAAMACoAAAArAAUABAAMACsAAAAsAPz/BAANACIAAAAsAP3/BAANACMAAAAsAP7/BAANACQAAAAsAP//BAANACUAAAAsAAAABAANACYAAAAsAAEABAANACcAAAAsAAIABAANACgAAAAsAAMABAANACkAAAAsAAQABAANACoAAAAsAAUABAANACsAAAAtAPz/BAAOACIAAAAtAP3/BAAOACMAAAAtAP7/BAAOACQAAAAtAP//BAAOACUAAAAtAAAABAAOACYAAAAtAAEABAAOACcAAAAtAAIABAAOACgAAAAtAAMABAAOACkAAAAtAAQABAAOACoAAAAtAAUABAAOACsAAAAuAPz/BAAPACIAAAAuAP3/BAAPACMAAAAuAP7/BAAPACQAAAAuAP//BAAPACUAAAAuAAAABAAPACYAAAAuAAEABAAPACcAAAAuAAIABAAPACgAAAAuAAMABAAPACkAAAAuAAQABAAPACoAAAAuAAUABAAPACsAAAAvAPz/BAAQACIAAAAvAP3/BAAQACMAAAAvAP7/BAAQACQAAAAvAP//BAAQACUAAAAvAAAABAAQACYAAAAvAAEABAAQACcAAAAvAAIABAAQACgAAAAvAAMABAAQACkAAAAvAAQABAAQACoAAAAvAAUABAAQACsAAAAwAP3/BAARACMAAAAwAP7/BAARACQAAAAwAP//BAARACUAAAAwAAAABAARACYAAAAwAAEABAARACcAAAAwAAIABAARACgAAAAwAAMABAARACkAAAAwAAQABAARACoAAAAwAAUABAARACsAAAAxAP3/BAASACMAAAAxAP7/BAASACQAAAAxAP//BAASACUAAAAxAAAABAASACYAAAAxAAEABAASACcAAAAxAAIABAASACgAAAAxAAMABAASACkAAAAxAAQABAASACoAAAAxAAUABAASACsAAAAyAP7/BAATACQAAAAyAP//BAATACUAAAAyAAAABAATACYAAAAyAAEABAATACcAAAAyAAIABAATACgAAAAyAAMABAATACkAAAAyAAQABAATACoAAAAyAAUABAATACsAAAAzAAAABAAUACYAAAAzAAEABAAUACcAAAAzAAIABAAUACgAAAAzAAMABAAUACkAAAAzAAQABAAUACoAAAAzAAUABAAUACsAAAANAPn/BAAMACIAABAMAPn/BAANACIAABALAPn/BAAOACIAABAKAPn/BAAPACIAABAJAPn/BAAQACIAABAPAPr/BAAKACMAABAOAPr/BAALACMAABANAPr/BAAMACMAABAMAPr/BAANACMAABALAPr/BAAOACMAABAKAPr/BAAPACMAABAJAPr/BAAQACMAABAIAPr/BAARACMAABAHAPr/BAASACMAABAPAPv/BAAKACQAABAOAPv/BAALACQAABANAPv/BAAMACQAABAMAPv/BAANACQAABALAPv/BAAOACQAABAKAPv/BAAPACQAABAJAPv/BAAQACQAABAIAPv/BAARACQAABAHAPv/BAASACQAABAGAPv/BAATACQAABARAPz/BAAIACUAABAQAPz/BAAJACUAABAPAPz/BAAKACUAABAOAPz/BAALACUAABANAPz/BAAMACUAABAMAPz/BAANACUAABALAPz/BAAOACUAABAKAPz/BAAPACUAABAJAPz/BAAQACUAABAIAPz/BAARACUAABAHAPz/BAASACUAABAGAPz/BAATACUAABARAP3/BAAIACYAABAQAP3/BAAJACYAABAPAP3/BAAKACYAABAOAP3/BAALACYAABANAP3/BAAMACYAABAMAP3/BAANACYAABALAP3/BAAOACYAABAKAP3/BAAPACYAABAJAP3/BAAQACYAABAIAP3/BAARACYAABAHAP3/BAASACYAABAGAP3/BAATACYAABASAP7/BAAHACcAABARAP7/BAAIACcAABAQAP7/BAAJACcAABAPAP7/BAAKACcAABAOAP7/BAALACcAABANAP7/BAAMACcAABAMAP7/BAANACcAABALAP7/BAAOACcAABAKAP7/BAAPACcAABAJAP7/BAAQACcAABAIAP7/BAARACcAABAHAP7/BAASACcAABAGAP7/BAATACcAABAUAP//BAAFACgAABATAP//BAAGACgAABASAP//BAAHACgAABARAP//BAAIACgAABAQAP//BAAJACgAABAPAP//BAAKACgAABAOAP//BAALACgAABANAP//BAAMACgAABAMAP//BAANACgAABALAP//BAAOACgAABAKAP//BAAPACgAABAJAP//BAAQACgAABAIAP//BAARACgAABAHAP//BAASACgAABAGAP//BAATACgAABAVAAAABAAEACkAABAUAAAABAAFACkAABATAAAABAAGACkAABASAAAABAAHACkAABARAAAABAAIACkAABAQAAAABAAJACkAABAPAAAABAAKACkAABAOAAAABAALACkAABANAAAABAAMACkAABAMAAAABAANACkAABALAAAABAAOACkAABAKAAAABAAPACkAABAJAAAABAAQACkAABAIAAAABAARACkAABAHAAAABAASACkAABAGAAAABAATACkAABAXAAEABAACACoAABAWAAEABAADACoAABAVAAEABAAEACoAABAUAAEABAAFACoAABATAAEABAAGACoAABASAAEABAAHACoAABARAAEABAAIACoAABAQAAEABAAJACoAABAPAAEABAAKACoAABAOAAEABAALACoAABANAAEABAAMACoAABAMAAEABAANACoAABALAAEABAAOACoAABAKAAEABAAPACoAABAJAAEABAAQACoAABAIAAEABAARACoAABAHAAEABAASACoAABAGAAEABAATACoAABAXAAIABAACACsAABAWAAIABAADACsAABAVAAIABAAEACsAABAUAAIABAAFACsAABATAAIABAAGACsAABASAAIABAAHACsAABARAAIABAAIACsAABAQAAIABAAJACsAABAPAAIABAAKACsAABAOAAIABAALACsAABANAAIABAAMACsAABAMAAIABAANACsAABALAAIABAAOACsAABAKAAIABAAPACsAABAJAAIABAAQACsAABAIAAIABAARACsAABAHAAIABAASACsAABAGAAIABAATACsAABAYAAMABAABACwAABAXAAMABAACACwAABAWAAMABAADACwAABAVAAMABAAEACwAABAUAAMABAAFACwAABATAAMABAAGACwAABASAAMABAAHACwAABARAAMABAAIACwAABAQAAMABAAJACwAABAPAAMABAAKACwAABAOAAMABAALACwAABANAAMABAAMACwAABAMAAMABAANACwAABALAAMABAAOACwAABAKAAMABAAPACwAABAJAAMABAAQACwAABAIAAMABAARACwAABAHAAMABAASACwAABAGAAMABAATACwAABA=")
tile_set = ExtResource("4_ear8s")

[node name="darkness" type="PointLight2D" parent="world1_stage1"]
light_mask = 3
position = Vector2(501.00003, -77.000015)
scale = Vector2(2.8783185, 1.8884988)
color = Color(0.38128206, 0.33779743, 0.31887895, 1)
energy = 1.59
blend_mode = 1
texture = ExtResource("7_t6vsi")
texture_scale = 29.5
metadata/_edit_lock_ = true

[node name="Player" parent="world1_stage1" instance=ExtResource("4_cwef7")]
z_index = 11
position = Vector2(112.72728, -8.484846)
SPEED = 225.0

[node name="darkness" type="PointLight2D" parent="world1_stage1/Player"]
visible = false
light_mask = 3
position = Vector2(330.00003, 51.538464)
scale = Vector2(2.2140913, 1.4526914)
color = Color(0.3134488, 0.30984905, 0.31074616, 1)
energy = 0.3
blend_mode = 1
texture = ExtResource("7_t6vsi")
texture_scale = 29.5
metadata/_edit_lock_ = true

[node name="water" type="TextureRect" parent="world1_stage1"]
physics_interpolation_mode = 0
z_index = 11
material = SubResource("ShaderMaterial_jr415")
offset_left = -28.484863
offset_top = 38.48484
offset_right = 4064.589
offset_bottom = 4420.994
scale = Vector2(0.14, 0.025081903)
texture = SubResource("CompressedTexture2D_iknvv")
expand_mode = 1

[node name="BackBufferCopy" type="BackBufferCopy" parent="world1_stage1/water"]
position = Vector2(2031.3853, 2221.3467)
scale = Vector2(20.11905, 17.172651)

[node name="bleed" parent="." instance=ExtResource("15_387rd")]
z_index = 10
material = SubResource("ShaderMaterial_t6vsi")
offset_left = 530.0
offset_top = 122.0
offset_right = 1459.0
offset_bottom = 787.0
metadata/_edit_lock_ = true

[node name="gltch" parent="." instance=ExtResource("15_387rd")]
modulate = Color(1, 1, 1, 0.335)
z_index = 10
material = SubResource("ShaderMaterial_k0qpa")
offset_left = 408.0
offset_top = 236.0
offset_right = 1463.0
offset_bottom = 777.0
localize_numeral_system = false
metadata/_edit_lock_ = true

[node name="stray windows" type="Node" parent="."]
script = ExtResource("17_k0qpa")
shake_strength = 1
shake_interval = 0.01
breathe_amplitude = 1
breathe_speed = 2.0

[node name="stray" type="Window" parent="stray windows"]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(448, 325)
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="stray windows/stray"]
position = Vector2(255, 275)
anchor_mode = 0
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="stray2" type="Window" parent="stray windows"]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(303, 482)
size = Vector2i(245, 123)
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="stray windows/stray2"]
position = Vector2(255, 275)
anchor_mode = 0
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="stray3" type="Window" parent="stray windows"]
snap_2d_transforms_to_pixel = true
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(1008, 506)
size = Vector2i(110, 124)
visible = false
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="stray windows/stray3"]
position = Vector2(255, 275)
anchor_mode = 0
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="stray4" type="Window" parent="stray windows"]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(825, 615)
visible = false
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="stray windows/stray4"]
position = Vector2(255, 275)
anchor_mode = 0
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[node name="stray5" type="Window" parent="stray windows"]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
position = Vector2i(375, 405)
size = Vector2i(173, 200)
minimize_disabled = true
maximize_disabled = true
script = ExtResource("3_cwef7")

[node name="Camera2D" type="Camera2D" parent="stray windows/stray5"]
position = Vector2(255, 275)
anchor_mode = 0
limit_enabled = false
limit_left = 0
limit_top = 0
limit_right = 1360
limit_bottom = 720
limit_smoothed = true

[connection signal="body_entered" from="world1_stage1/DoorArea2D2" to="world1_stage1/DoorArea2D2" method="_on_body_entered"]

[editable path="world1_stage1/background"]
[editable path="world1_stage1/WORLD_BORDER"]
